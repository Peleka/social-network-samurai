{"version":3,"sources":["components/Users/Users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/Music/Music.tsx","components/News/News.tsx","components/Settings/Settings.tsx","api/api.ts","utils/helper.ts","redux/usersReducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","assets/images/user.jpg","components/Users/Users.tsx","assets/images/preloader.gif","components/common/Preloader/Preloader.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","redux/dialogsReducer.ts","components/Dialogs/DilogsItem/DialogsItem.tsx","components/Dialogs/Message/Message.tsx","components/common/FormsControls/FormsControls.tsx","utils/validator.ts","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/ProfileStatus/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/profileReducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/authReducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/sidebarReducer.ts","redux/appReducer.ts","redux/redux-store.ts","App.tsx","index.tsx","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","item","to","activeClassName","active","BestFriends","Music","News","Settings","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","response","data","unFollowUser","id","delete","followUser","post","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","email","password","rememberMe","updateObjectInArray","items","itemId","objectPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_IS_FETCHING","FOLLOWING_IN_PROGRESS","initialState","users","totalUsersCount","isFetching","isFollowingInProgress","follow","userID","type","unfollow","setCurrentPage","setIsFetching","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","s","pagesList","pageBtn","onClick","filter","p","index","selectedPage","e","User","user","unfollowThunkCreator","followThunkCreator","src","photos","small","ava_photo","alt","followed","disabled","some","name","Users","usersPage","Preloader","preloader","state","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowingInProgress","UsersContainer","pageNumber","props","this","log","React","Component","connect","followingInProgress","totalCount","count","bind","ADD_MESSAGE","dialogs","messages","message","DialogItem","dialog","MessagesItem","Textarea","input","meta","touched","error","hasError","formControl","Input","createField","placeholder","validate","component","text","Field","required","value","undefined","maxLengthCreator","maxLength","length","maxLength100","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","mapStateToProps","isAuth","auth","withAuthRedirect","restProps","compose","dialogsPage","sendMessageClick","newMessage","addMessageAC","dialogsElement","d","messagesElement","m","Message","dialogsItems","newMessageBody","ProfileStatusWithHooks","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","currentTarget","onBlur","autoFocus","ProfileInfo","profile","large","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","posts","likesCount","Post","avatar","MyPosts","postsElement","ProfileFormRedux","addPost","messageForNewPost","maxLength10","MyPostContainer","profilePage","addPostAC","Profile","MyPostsContainer","ProfileContainer","match","params","JSON","stringify","authorizedUserId","history","getUsersProfileThunkCreator","getStatusThunkCreator","updateStatusThunkCreator","withRouter","Header","header","loginBlock","login","logOut","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","HeaderContainer","LoginReduxForm","formCommonError","stopSubmit","_error","formData","friends","ava","initialized","rootReducer","combineReducers","action","newPost","postId","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","App","initializeApp","path","render","DialogsContainer","AppContainer","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.511d20ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava_photo\":\"Users_ava_photo__3vRUj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3qR92\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2yFqA\",\"item\":\"Navbar_item__1-SGD\",\"active\":\"Navbar_active__3Jryj\",\"BestFriends\":\"Navbar_BestFriends__1niuy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1KvoS\",\"dialogsItems\":\"Dialogs_dialogsItems__h6YPm\",\"active\":\"Dialogs_active__3riJf\",\"messages\":\"Dialogs_messages__jGvih\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport classes from './Navbar.module.css'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/profile\"} activeClassName={classes.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/dialogs\"} activeClassName={classes.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/users\"} activeClassName={classes.active}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/news\"} activeClassName={classes.active}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/music\"} activeClassName={classes.active}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to={\"/settings\"} activeClassName={classes.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={classes.BestFriends}>{\r\n\r\n                // props.store.getState().sidebar.friends.map(f => <Sidebar name={f.name} key={f.id} ava={f.ava}/>)\r\n            }sidebar</div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"9c832af0-5e6b-4bff-a294-4118cc9c6256\"},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 3) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unFollowUser(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    followUser(id: number) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getProfile(userId: string) {\r\n        console.warn('Please profileAPI object') //чтобы избежать дублир кода написали ворнинг и ретург на нужный метод чтобы ничего не сломалось\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance\r\n            .get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance\r\n            .get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance\r\n            .put(`profile/status/`, {status: status}) // properties смотрим в доке api\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance\r\n            .get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance\r\n            .post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance\r\n            .delete(`auth/login`)\r\n    }\r\n}\r\n\r\n","//@ts-ignore\r\nexport const updateObjectInArray = (items, itemId, objectPropName, newObjProps) => {\r\n    //@ts-ignore\r\n    return items.map(u => {\r\n        if (u[objectPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {ActionsTypes, AppDispatch} from \"./redux-store\"\r\nimport {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/helper\";\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\"\r\nconst FOLLOWING_IN_PROGRESS = \"FOLLOWING_IN_PROGRESS\"\r\n\r\n// type LocationType = {\r\n//     city: string\r\n//     country: string\r\n// }\r\n\r\ntype PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    uniqueUrlName: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n\r\n    status: string\r\n    // location: LocationType\r\n}\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 5 as number,\r\n    totalUsersCount: 20 as number,\r\n    currentPage: 1 as number,\r\n    isFetching: true as boolean, //крутила\r\n    isFollowingInProgress: [] as Array<any>\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                isFollowingInProgress: action.isFetching\r\n                    ? [...state.isFollowingInProgress, action.id]\r\n                    : state.isFollowingInProgress.filter(id => id !== action.id)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const follow = (userID: number) => ({type: FOLLOW, userID} as const)\r\nexport const unfollow = (userID: number) => ({type: UNFOLLOW, userID} as const)\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\r\n    type: SET_TOTAL_USERS_COUNT, count: totalUsersCount\r\n} as const)\r\nexport const setIsFetching = (isFetching: boolean) => ({type: SET_IS_FETCHING, isFetching} as const)\r\nexport const toggleFollowingInProgress = (isFetching: boolean, id: number) => ({\r\n    type: FOLLOWING_IN_PROGRESS, isFetching, id\r\n} as const)\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage))\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(setIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        //временно в комменте, чтобы не выводило миллион страниц\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: AppDispatch, id: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleFollowingInProgress(true, id));\r\n    let response = await apiMethod(id);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, id))\r\n}\r\n\r\nexport const unfollowThunkCreator = (id: number) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        await followUnfollowFlow(dispatch, id, usersAPI.unFollowUser.bind(usersAPI), unfollow)\r\n    }\r\n}\r\n\r\nexport const followThunkCreator = (id: number) => {\r\n    return async (dispatch: AppDispatch) => {\r\n       await followUnfollowFlow(dispatch, id, usersAPI.followUser.bind(usersAPI), follow)\r\n    }\r\n}","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\"\r\n\r\ntype PaginatorPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    portionSize: number\r\n}\r\n\r\nconst Paginator: React.FC<PaginatorPropsType> = ({\r\n                                                     totalItemsCount, pageSize,\r\n                                                     currentPage, onPageChanged, portionSize,\r\n                                                 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.pagesList}>\r\n        {\r\n            portionNumber > 1 &&\r\n            <button\r\n                className={s.pageBtn}\r\n                onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}\r\n            >\r\n                PREV\r\n            </button>\r\n        }\r\n        {\r\n            pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p, index) => {\r\n                        return (\r\n                            <span\r\n                                key={index}\r\n                                className={currentPage === p ? s.selectedPage : ''}\r\n                                onClick={(e) => {\r\n                                    onPageChanged(p)\r\n                                }}\r\n                            >\r\n                                {p}\r\n                            </span>\r\n                        )\r\n                    }\r\n                )\r\n        }\r\n        {\r\n            portionCount > portionNumber &&\r\n            <button\r\n                className={s.pageBtn}\r\n                onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}\r\n            >\r\n                NEXT\r\n            </button>\r\n        }\r\n    </div>\r\n}\r\n\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport s from './Users.module.css'\r\nimport userPhoto from '../../assets/images/user.jpg'\r\nimport {UserType} from \"../../redux/usersReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    isFollowingInProgress: Array<number>\r\n    unfollowThunkCreator: (id: number) => void\r\n    followThunkCreator: (id: number) => void\r\n}\r\n\r\nconst User: React.FC<UserPropsType> = ({user, isFollowingInProgress, unfollowThunkCreator,followThunkCreator }) => {\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ?\r\n                            user.photos.small : userPhoto}\r\n                             className={s.ava_photo}\r\n                             alt={'ava'}\r\n                        />\r\n                    </NavLink>\r\n\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ?\r\n                        <button disabled={isFollowingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            debugger\r\n                            unfollowThunkCreator(user.id)\r\n                        }}>\r\n                            Unfollow\r\n                        </button>\r\n                        : <button disabled={isFollowingInProgress.some(id => id === user.id)}\r\n                                  onClick={() => {\r\n                                      followThunkCreator(user.id)\r\n                                  }}>\r\n                            Follow\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","export default \"data:image/jpeg;base64,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\"","import React from \"react\";\r\nimport {UserType} from \"../../redux/usersReducer\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\ntype UsersPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    usersPage: Array<UserType>\r\n    isFollowingInProgress: Array<number>\r\n    unfollowThunkCreator: (id: number) => void\r\n    followThunkCreator: (id: number) => void\r\n}\r\n\r\nconst Users: React.FC<UsersPropsType> = ({\r\n                                             totalUsersCount, pageSize, currentPage,\r\n                                             onPageChanged, usersPage, isFollowingInProgress,\r\n                                             unfollowThunkCreator,\r\n                                             followThunkCreator\r\n                                         }) => {\r\n\r\n    return <div>\r\n        <Paginator\r\n            currentPage={currentPage}\r\n            onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize}\r\n            portionSize={10}\r\n        />\r\n\r\n        {\r\n            usersPage.map(u => <User\r\n                key={u.id}\r\n                user={u}\r\n                isFollowingInProgress={isFollowingInProgress}\r\n                followThunkCreator={followThunkCreator}\r\n                unfollowThunkCreator={unfollowThunkCreator}\r\n            />)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","export default __webpack_public_path__ + \"static/media/preloader.d5d18c6a.gif\";","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif'\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt={\"preloader\"}/>\r\n        </div>\r\n    )\r\n}","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n    return state.users.users\r\n}\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.users.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.users.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.users.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.users.isFetching\r\n}\r\nexport const getIsFollowingInProgress = (state: AppStateType) => {\r\n    return state.users.isFollowingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    followThunkCreator,\r\n    getUsersThunkCreator,\r\n    setCurrentPage,\r\n    toggleFollowingInProgress,\r\n    unfollow,\r\n    unfollowThunkCreator,\r\n    UserType\r\n} from \"../../redux/usersReducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getIsFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType, AppStateType> {\r\n\r\n    componentDidMount() {\r\n        let {currentPage,pageSize } = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        let {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        console.log('render users')\r\n        let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize)\r\n        let pages = [];\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                usersPage={this.props.users}\r\n                isFollowingInProgress={this.props.isFollowingInProgress}\r\n                followThunkCreator={this.props.followThunkCreator}\r\n                unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    isFollowingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    followingInProgress: (isFetching: boolean, id: number) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    unfollowThunkCreator: (id: number) => void\r\n    followThunkCreator: (id: number) => void\r\n}\r\n\r\nexport type UsersPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingInProgress: getIsFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {\r\n        follow, unfollow, setCurrentPage,\r\n        followingInProgress: toggleFollowingInProgress,\r\n        getUsers: getUsersThunkCreator,\r\n        unfollowThunkCreator, followThunkCreator\r\n    })(UsersContainer)","import {ActionsTypes} from \"./redux-store\";\r\n\r\nconst ADD_MESSAGE = \"ADD_MESSAGE\"\r\n\r\nexport type DialogsType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {name: \"Dimuch\", id: 1},\r\n        {name: \"Andrey\", id: 2},\r\n        {name: \"Artem\", id: 3}\r\n    ] as Array<DialogsType>,\r\n\r\n    messages: [\r\n        {id: 1, message: 'Hello'},\r\n        {id: 2, message: 'How are you'},\r\n        {id: 3, message: 'Fine'},\r\n        {id: 4, message: 'Good'}\r\n    ] as Array<MessageType>,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\n\r\nexport const dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage: MessageType = {\r\n                id: 7,\r\n                message: action.newMessage\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage],\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addMessageAC = (newMessage: string) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessage\r\n    } as const\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport classes from '../Dialogs.module.css';\r\n\r\ntype DialogsItemType = {\r\n    name: string\r\n    id: number\r\n}\r\n\r\nconst DialogItem = (props: DialogsItemType) => {\r\n    return (\r\n        <div className={classes.dialog + ' ' + classes.active}>\r\n            <NavLink to={'/dialog/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\nexport default DialogItem;"," import React from \"react\";\r\nimport classes from '../Dialogs.module.css';\r\n\r\n\r\ntype MessagesItemType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst MessagesItem = (props: MessagesItemType) => {\r\n    return (\r\n        <div className={classes.message}>\r\n\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessagesItem;","import React from 'react'\r\nimport classes from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\n//@ts-ignore\r\nexport const Textarea = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n//@ts-ignore\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n//@ts-ignore\r\nexport const createField = (placeholder, name, validate, component, props?, text?) => (\r\n    <div>\r\n        <Field\r\n            placeholder={placeholder}\r\n            component={component}\r\n            name={name}\r\n            validate={validate}\r\n            {...props}\r\n        />{text}\r\n    </div>\r\n)","export const required = (value: string) => {\r\n   return  value ? undefined : 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    return  value.length > maxLength ? `Max value is ${maxLength} symbols` : undefined\r\n}","import React from \"react\";\r\nimport classes from './Dialogs.module.css';\r\nimport DialogItem from \"./DilogsItem/DialogsItem\";\r\nimport MessagesItem from \"./Message/Message\";\r\nimport {DialogsPropsType} from \"./DialogsContainer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validator\";\r\n\r\n\r\nexport const Dialogs = (props: DialogsPropsType) => {\r\n\r\n    let dialogsElement = props.dialogsPage.dialogs\r\n        .map(d => <DialogItem key={d.id} name={d.name} id={d.id}/>)\r\n\r\n    let messagesElement = props.dialogsPage.messages\r\n        .map(m => <MessagesItem\r\n            key={m.id}\r\n            id={m.id}\r\n            message={m.message}\r\n        />)\r\n\r\n    const addNewMessage = (newMessage: FormDataType) => {\r\n        props.sendMessageClick(newMessage.newMessageBody)\r\n    }\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.dialogsItems}>\r\n                {dialogsElement}\r\n            </div>\r\n            <div className={classes.messages}>\r\n                {messagesElement}\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\ntype FormDataType = {\r\n    newMessageBody: string\r\n}\r\nconst maxLength100 = maxLengthCreator(100)\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name=\"newMessageBody\"\r\n                    placeholder=\"Enter your message\"\r\n                    validate={[required, maxLength100]}\r\n                />\r\n            </div>\r\n            <button>Add message</button>\r\n        </form>)\r\n}\r\n\r\n//оборачиваем с пом нос reduxForm\r\nconst AddMessageFormRedux = reduxForm<FormDataType>({\r\n    // a unique name for the form\r\n    form: 'dialogAddMessageForm'\r\n})(AddMessageForm)","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    const RedirectContainer = (props: MapStateToPropsType) => {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to={'/login'} />\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectContainer)\r\n}","import {addMessageAC, DialogsType, MessageType} from \"../../redux/dialogsReducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose, Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport React from \"react\";\r\n\r\ntype DialogsPageType = {\r\n    dialogs: Array<DialogsType>\r\n    messages: Array<MessageType>\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsPage: DialogsPageType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    sendMessageClick: (newMessage: string) => void\r\n}\r\n\r\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        sendMessageClick: (newMessage: string) => {\r\n            dispatch(addMessageAC(newMessage))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(Dialogs)\r\n//\r\n// export const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\n","import React, {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props: any) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n    const onStatusChange = (e: any) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                !editMode &&\r\n                <div>\r\n                        <span onDoubleClick={activateEditMode}\r\n                        >{props.status || \"-------\"}</span>\r\n                </div>\r\n            }\r\n            {\r\n                editMode &&\r\n                <div>\r\n                    <input\r\n                        onChange={onStatusChange}\r\n                        onBlur={deactivateEditMode}\r\n                        autoFocus={true}\r\n                        value={status}\r\n                    />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileType} from \"../../../redux/profileReducer\";\r\nimport ProfileStatusWithHooks from \"../../ProfileStatus/ProfileStatusWithHooks\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: null | ProfileType //пофиксить тут boolean?\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n\r\n}\r\n\r\nconst ProfileInfo:React.FC<ProfileInfoPropsType> = ({profile,status,updateStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img src={profile.photos.large} alt={'avatarka'}/>\r\n                <ProfileStatusWithHooks\r\n                    status={status}\r\n                    updateStatus={updateStatus}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import {ActionsTypes, AppDispatch} from \"./redux-store\"\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\"\r\nconst DELETE_POST = \"DELETE_POST\"\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\n\r\nexport type PostsType = {\r\n    id?: number\r\n    message: string\r\n    likesCount: number\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    contacts: ProfileContactsType\r\n    userId: number\r\n    photos: ProfilePhotosType\r\n}\r\ntype ProfileContactsType = {\r\n    facebook: string\r\n    website: boolean\r\n    vk: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: boolean\r\n    github: string\r\n    mainLink: boolean\r\n}\r\ntype ProfilePhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: \"My post 1\", likesCount: 15},\r\n        {id: 2, message: \"My post 2\", likesCount: 30}\r\n    ] as Array<PostsType>,\r\n    profile: null as null | ProfileType,\r\n    status: \"\" as string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost: PostsType = {\r\n                id: 5,\r\n                message: action.messageForNewPost,\r\n                likesCount: 60\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostAC = (messageForNewPost: string) => {\r\n    return {type: ADD_POST,messageForNewPost} as const\r\n}\r\nexport const deletePostAC = (postId: any) => ({type: DELETE_POST, postId} as const)\r\nexport const setUserProfile = (profile: any) => ({type: SET_USER_PROFILE, profile} as const)\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const)\r\n//уже не сэтаем\r\nexport const getUsersProfileThunkCreator = (userId: string) => async (dispatch: AppDispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatusThunkCreator = (userId: string) => async (dispatch: AppDispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status: string) => async (dispatch: AppDispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}","import React from \"react\";\r\nimport classes from './Post.module.css';\r\n\r\n\r\nconst Post = (props: any) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <img className={classes.avatar}\r\n                 src='https://www.interfax.ru/ftproot/textphotos/2019/05/17/700gc.jpg'/>\r\n            {props.message}\r\n            <div>\r\n                <span>Like {props.likesCount}</span>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport classes from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport {MyPostPropsType} from \"./MyPostsContainer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validator\";\r\n\r\n\r\nconst MyPosts = (props: MyPostPropsType) => {\r\n    console.log(\"My Post RENDER\")\r\n    let postsElement = props.posts.map((p, index) =>\r\n        <Post key={index}\r\n              message={p.message}\r\n              likesCount={p.likesCount}/>\r\n    )\r\n\r\n    const addNewPost = (value: FormDataType) => {\r\n        props.addPost(value.messageForNewPost)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>my posts</h3>\r\n            <div>\r\n                <ProfileFormRedux onSubmit={addNewPost}/>\r\n            </div>\r\n            <div className={classes.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;\r\n\r\ntype FormDataType = {\r\n    messageForNewPost: string\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst ProfileForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                       name=\"messageForNewPost\"\r\n                       placeholder=\"Enter your post\"\r\n                       validate={[required, maxLength10]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst ProfileFormRedux = reduxForm<FormDataType>({\r\n    form: 'profileForm'\r\n})(ProfileForm)","import {addPostAC, PostsType} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    posts: Array<PostsType>\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    addPost: (messageForNewPost: string) => void\r\n}\r\n\r\nexport type MyPostPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n          addPost: (messageForNewPost: string) => {\r\n            dispatch(addPostAC(messageForNewPost))\r\n        }\r\n    }\r\n}\r\nlet MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostContainer;","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profileReducer\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: null | ProfileType\r\n    status: string\r\n    updateStatus: any\r\n}\r\n\r\nconst Profile: React.FC<ProfilePropsType> = ({profile, status, updateStatus}) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n                profile={profile}\r\n                status={status}\r\n                updateStatus={updateStatus}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {\r\n    getStatusThunkCreator,\r\n    getUsersProfileThunkCreator,\r\n    ProfileType,\r\n    updateStatusThunkCreator\r\n} from \"../../redux/profileReducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    profile: null | ProfileType\r\n    status: string\r\n    authorizedUserId: null | number\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsersProfileThunkCreator: (userId: string) => void\r\n    getStatusThunkCreator: (userId: string) => void\r\n    updateStatusThunkCreator: (status: string) => void\r\n}\r\n\r\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType\r\ntype PropsType = RouteComponentProps<PathParamsType> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = JSON.stringify(this.props.authorizedUserId)\r\n            if(!userId) {\r\n                this.props.history.push(\"/login\") //способ редирект на логин\r\n            }\r\n        }\r\n        this.props.getUsersProfileThunkCreator(userId)\r\n        this.props.getStatusThunkCreator(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatusThunkCreator}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {\r\n        getUsersProfileThunkCreator,\r\n        getStatusThunkCreator, updateStatusThunkCreator //не сам санккреэтор передаем а создается в памяти отдельная функция колбек 73урок 33:22 время\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n//\r\n// let withUrlDataContainerComponent = withRouter(ProfileContainer) //вернет компоненту , в нее данные из url придут\r\n//\r\n// export default withAuthRedirect(connect(mapStateToProps, {getUsersProfileThunkCreator})(withUrlDataContainerComponent)); // связывает со store","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from './Header.module.css';\r\n\r\ntype HeaderPropsType = {\r\n\r\n}\r\n\r\nconst Header = (props: any) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src='' />\r\n            <div className={classes.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login } - <button onClick={props.logOut}>LogOut</button></div>\r\n                    : <NavLink to={'/login'}> Login </NavLink> }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {ActionsTypes, AppDispatch} from \"./redux-store\"\r\nimport {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\"\r\n\r\nlet initialState = {\r\n    id: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false as boolean,\r\n    isFetching: false as boolean,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA :\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: number, email: string, login: string, isAuth: boolean) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {id, email, login, isAuth}\r\n} as const)\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch<ActionsTypes>) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n} //это ThunkCreator\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: AppDispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        //@ts-ignore\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some Error\"\r\n        //@ts-ignore\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logOut = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        //@ts-ignore\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/authReducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n\r\nclass HeaderContainer extends React.Component<any, any> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logOut})(HeaderContainer);","import React from \"react\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utils/validator\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport classes from './../common/FormsControls/FormsControls.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type: \"password\"})}\r\n            {createField(null, 'rememberMe', [], Input, {type: \"checkbox\"}, \"remember Me\")}\r\n\r\n            {error && <div className={classes.formCommonError}>{error}</div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n//оборачиваем с пом hос reduxForm\r\nconst LoginReduxForm = reduxForm<FormDataType>({\r\n    // a unique name for the form\r\n    form: 'login'\r\n})(LoginForm)\r\n//@ts-ignore\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        //тут из пропсов connect нам достает ф-цию login, которая внутри себя диспатчит вызов loginTC\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {login})(Login)","import { ActionsTypes } from \"./redux-store\"\r\n\r\ntype FriendsType = {\r\n    id?: number\r\n    name: string\r\n    ava: string\r\n}\r\n\r\nlet initialState = {\r\n    friends: [\r\n        {id: 1, name: \"Dimuch\", ava: 'https://www.interfax.ru/ftproot/textphotos/2019/05/17/700gc.jpg'},\r\n        {id: 2, name: \"Andrey\", ava: 'https://www.interfax.ru/ftproot/textphotos/2019/05/17/700gc.jpg'},\r\n        {id: 3, name: \"Artem\", ava: 'https://www.interfax.ru/ftproot/textphotos/2019/05/17/700gc.jpg'},\r\n    ] as Array<FriendsType>\r\n}\r\n\r\ntype InitialStatePropsType = typeof initialState\r\n\r\nexport const sidebarReducer = (state: InitialStatePropsType = initialState, action: ActionsTypes): InitialStatePropsType => {\r\n    return state\r\n}","import {ActionsTypes, AppDispatch} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {getAuthUserData} from \"./authReducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n    initialized: false as boolean\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"INITIALIZED_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default: return state\r\n\r\n    }\r\n}\r\n\r\nexport const initializedSuccessAC = () => ({type: INITIALIZED_SUCCESS} as const)\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData())\r\n//dispatch(smth)\r\n//dispatch(smth)\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccessAC())\r\n    })\r\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {addPostAC, deletePostAC, profileReducer, setStatus, setUserProfile} from \"./profileReducer\";\r\nimport {addMessageAC, dialogsReducer} from \"./dialogsReducer\";\r\nimport {sidebarReducer} from \"./sidebarReducer\";\r\nimport {\r\n    follow, toggleFollowingInProgress,\r\n    setCurrentPage,\r\n    setIsFetching,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    unfollow,\r\n    usersReducer\r\n} from \"./usersReducer\";\r\nimport {authReducer, setAuthUserData} from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport {initializedSuccessAC, appReducer} from \"./appReducer\";\r\n\r\nexport type ActionsTypes = ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof addMessageAC>\r\n    | ReturnType<typeof follow> | ReturnType<typeof unfollow>\r\n    | ReturnType<typeof setUsers> | ReturnType<typeof setCurrentPage> | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof setIsFetching> | ReturnType<typeof setUserProfile> | ReturnType<typeof setAuthUserData>\r\n    | ReturnType<typeof toggleFollowingInProgress> | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof initializedSuccessAC> | ReturnType<typeof deletePostAC>\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    users: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer, //обязательно д.б. названо form\r\n    app: appReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n//rootReducer возвращает нам тип всего приложения\r\n\r\nexport type StoryType = typeof store\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n//@ts-ignore\r\nwindow.store = store","import React from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Music from \"./components/Music/Music\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport {HashRouter, Route, withRouter} from 'react-router-dom';\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {AppStateType, store} from \"./redux/redux-store\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport {Preloader} from \"./components/common/Preloader/Preloader\";\n\nclass App extends React.Component<any, any> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path={'/dialogs'} render={() => <DialogsContainer/>}/>\n                    <Route path={'/profile/:userId?'} render={() => <ProfileContainer/>}/>\n                    <Route path={'/users'} render={() => <UsersContainer/>}/>\n                    <Route path={'/news'} render={() => <News/>}/>\n                    <Route path={'/music'} render={() => <Music/>}/>\n                    <Route path={'/settings'} render={() => <Settings/>}/>\n                    <Route path={'/login'} render={() => <Login/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\ntype MapStateToPropsType = {\n    initialized: boolean\n}\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose<React.ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App)\n\n//@ts-ignore\nexport const SamuraiJSApp = (props) => {\n    return <>\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    </>\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport {SamuraiJSApp} from \"./App\";\n\n\nReactDOM.render(\n    <SamuraiJSApp/>,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2aSpB\",\"error\":\"FormsControls_error__P3BuN\",\"formCommonError\":\"FormsControls_formCommonError__sbBqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3pchV\",\"pagesList\":\"Paginator_pagesList__13lhm\",\"pageBtn\":\"Paginator_pageBtn__Ub5jD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3L1EN\",\"avatar\":\"Post_avatar__2BSyb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1McIy\",\"loginBlock\":\"Header_loginBlock__1GU__\"};"],"sourceRoot":""}